// Package api provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.3.0 DO NOT EDIT.
package api

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}

// Package api provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.3.0 DO NOT EDIT.
package api

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"py/T7vT/AwAA///M5jfVBmsAAA==",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
